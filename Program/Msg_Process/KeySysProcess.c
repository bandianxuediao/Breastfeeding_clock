#include "includes.h"

//==================================================================================================
//| 函数名称 | KeyPowerPro 
//|----------|--------------------------------------------------------------------------------------
//| 函数功能 | 电源键消息响应函数
//|----------|--------------------------------------------------------------------------------------
//| 输入参数 | msg 待处理消息
//|----------|--------------------------------------------------------------------------------------       
//| 返回参数 | 无
//|----------|--------------------------------------------------------------------------------------       
//| 函数设计 | 编写人：李亚东    时间：2016-08-25 
//|----------|-------------------------------------------------------------------------------------- 
//|   备注   | 
//|----------|-------------------------------------------------------------------------------------- 
//| 修改记录 | 修改人：          时间：         修改内容： 
//==================================================================================================
void KeySysPro(MSG msg)
{
	u8 temp;
	SYS_STATE state;
	
	//按键消息的时效性判断
	if((SYS_STATE)msg.param1 != GetCurrentState())
	{
		return ;
	}
	switch((SYS_STATE)msg.param1)
	{
		case WAIT_CARD://在主菜单下按‘1’键，进入注册流程
			ShowPad(12);
			delay_ms(200);
			RC531_SWITCH = 1;
			SetCurrentState(SHOW_WELCOME);//系统上电，检测充电状态
			break;
		default:
			break;
	}	
}
